<h2>{{'options.search.search' | translate}}</h2>
<form #searchOptions="ngForm" novalidate>
  <div class="input">
    <label>{{'options.search.searchBox' | translate}}</label>
    <options-toggle name="searchBox" id="searchBox" [(ngModel)]="settings.config.search.enabled" (ngModelChange)="shared.toggleOrder(settings.config.search.id, $event, settings.config.search.position); ga.field('search.enabled', settings.config.search.enabled)"></options-toggle>
  </div>
  <ng-container *ngIf="settings.config.search.enabled">
    <div class="input">
      <label data-tooltip>{{'options.search.searchEngine' | translate}}</label>
      <select name="searchEngine" id="searchEngine" [(ngModel)]="settings.config.search.engine" (ngModelChange)="ga.field('search.engine', findEngine(settings.config.search.engine).label)">
        <option *ngFor="let e of engines" [ngValue]="e.id">{{e.label}}</option>
      </select>
    </div>
    <div class="input">
      <label>{{'options.search.label' | translate}}</label>
      <input type="text" name="searchLabel" id="searchLabel" [(ngModel)]="settings.config.search.label" (ngModelChange)="ga.field('search.label', 'userData')">
    </div>
    <div class="input">
      <label>{{'options.search.autocomplete' | translate}}<tooltip text="{{'options.search.autocompleteDesc' | translate}}"></tooltip></label>
      <options-toggle name="autocomplete" id="autocomplete" [(ngModel)]="settings.config.search.autocomplete" (ngModelChange)="ga.field('search.autocomplete', settings.config.search.autocomplete)"></options-toggle>
    </div>

    <!-- Layout -->
    <h3>Layout</h3>
    <div class="input">
      <label>{{'options.common.size' | translate}}</label>
      <options-range name="searchSize" id="searchSize" min="1" max="50" [(ngModel)]="settings.config.search.scaling" (ngModelChange)="ga.field('search.scaling', settings.config.search.scaling)"></options-range>
    </div>
    <div class="input">
      <label>{{'options.common.order' | translate}}</label>
      <div class="orderBtns">
        <button
          type="button"
          attr.aria-label="{{'options.common.moveUp' | translate}}"
          title="{{'options.common.moveUp' | translate}}"
          class="btn"
          [disabled]="shared.isFirst(settings.config.search.id, settings.config.search.position)"
          (click)="shared.changeOrder(settings.config.search.id, true, settings.config.search.position); ga.field('button.searchMoveUp', 'true')">
          <div class="icon" aria-hidden="true">expand_less</div>
        </button>
        <button
          type="button"
          attr.aria-label="{{'options.common.moveDown' | translate}}"
          title="{{'options.common.moveDown' | translate}}"
          class="btn"
          [disabled]="shared.isLast(settings.config.search.id, settings.config.search.position)"
          (click)="shared.changeOrder(settings.config.search.id, false, settings.config.search.position); ga.field('button.searchMoveDown', 'true')">
          <div class="icon" aria-hidden="true">expand_more</div>
        </button>
      </div>
    </div>
    <div class="input">
      <label for="searchPlacement">Position</label>
      <options-position id="searchPlacement" name="searchPlacement" [settingId]="settings.config.search.id" [(ngModel)]="settings.config.search.position" (ngModelChange)="ga.field('search.position', settings.config.search.position)"></options-position>
    </div>
    <div class="input">
      <label>{{'options.common.width' | translate}}</label>
      <options-range name="searchWidth" min="1" max="100" [(ngModel)]="settings.config.search.width" (ngModelChange)="ga.field('search.width', settings.config.search.width)"></options-range>
    </div>
    <div class="input">
      <label for="searchMarginHeight">Margin Height</label>
      <options-range name="searchMarginHeight" min="0" max="50" [(ngModel)]="settings.config.search.marginHeight" (ngModelChange)="ga.field('search.marginHeight', settings.config.search.marginHeight)"></options-range>
    </div>
    <div class="input">
      <label for="searchMarginWidth">Margin Width</label>
      <options-range name="searchMarginWidth" min="0" max="50" [(ngModel)]="settings.config.search.marginWidth" (ngModelChange)="ga.field('search.marginWidth', settings.config.search.marginWidth)"></options-range>
    </div>
    <div class="input">
      <label>{{'options.common.offset' | translate}}</label>
      <options-range name="searchOffset" min="-50" max="50" [(ngModel)]="settings.config.search.offset" (ngModelChange)="ga.field('search.offset', settings.config.search.offset)"></options-range>
    </div>
  </ng-container>
</form>
